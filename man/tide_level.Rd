% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/TideLevels.R
\name{tide_level}
\alias{tide_level}
\title{Predict tide levels for harmonic or subordinate stations}
\format{
A data.frame:
\describe{
  \item{station_code}{The NOAA Station ID (chr).}
  \item{station_name}{The NOAA Station Name (chr).}
  \item{reference_station_code}{Station ID for the reference station (chr).}
  \item{tide_type}{Harmonic or Subordinate (chr).}
  \item{tide_time}{Datetime of the prediction (time).}
  \item{tide_level}{Tide level in specified units, either meters or feet (dbl).}
}
}
\usage{
tide_level(
  tide_station = "Seattle",
  start_date = Sys.Date(),
  end_date = Sys.Date() + 1,
  data_interval = "15-min",
  tide_unit = "meters",
  timezone = NULL,
  verbose = FALSE,
  harms = MarineTides::harmonics
)
}
\arguments{
\item{tide_station}{A character field similar, or identical, to the tide station name}

\item{start_date}{A character field for the start date of the tide prediction time-span}

\item{end_date}{A character field for the end date of the tide prediction time-span}

\item{data_interval}{A character value for the time increment between predictions.
Allowable options include \code{1-min 6-min, 15-min, 30-min, 60-min, high-low, high-only, low-only}}

\item{tide_unit}{A character value for the tide level unit. Allowable options are \code{meters, feet}}

\item{timezone}{Typically the timezone of the \code{tide_station}, but can also be set manually}

\item{verbose}{A boolean requesting additional information be printed to the R console}

\item{harms}{Harmonics data}
}
\value{
A dataframe of predicted values. Includes information on the tide station
}
\description{
\code{tide_level()} generates tide predictions for a \code{tide_station} from \code{start_date} to
\code{end_date} at the time interval specified by \code{data_interval}. The \code{timezone}, by
default, is that of the specified \code{tide_station}, but can be set to other zones if
needed.
}
\details{
The \code{harmonics} dataset contains information for over three thousand harmonic and subordinate
tide stations worldwide. Most stations are located in the United States, but stations are also
included for locations adjacent to USA territories in the Pacific Ocean and the Carribbean.
The internal \code{MarineTides::identify_station()} function uses the \code{data.table::ilike()}
function to identify stations in the \code{harmonics} dataset with similar names. Unless you know
the exact station name, it is usually better to enter just the first few letters of the station name.
This will return a message in the R console with a list of possible matches.
The \code{start_date} and \code{end_dates} for predictions are parsed by the \code{anytime::anydate()}
function. This allows dates to be entered in a number of different formats. Typical formats such as
\code{2024-03-29, 3/29/2024 20240329, 2024.03.29} will return the expected values, but
entries such as \code{29/3/2024} or \code{3/3/24} will fail to parse and result in an error.
Toggling the \code{verbose} argument to \code{TRUE} will send a message to the R-console displaying
the start and end dates requested, or at least the dates that the function thought you intended.

The \code{data_interval} variable includes options similar to those available when requesting
tide data from the NOAA Tides and Currents website. For harmonic stations, the same set of
increments from 1 minute, to 60 minutes are provided. You can also request only highs, only
lows, or both. For subordinate stations, NOAA only allows the latter three options. Because
tide predictions for subordinate stations are only defined in terms of offsets from the daily
high and low values, it would be speculative at best to infer tide levels, or tide times,
for other intervals. The shape of tidal curves between highs and lows at subordinate stations
may differ considerably from those of the reference harmonic stations.

When predictions are requested for subordinate stations, or when the \code{data_interval}
is one of \code{high-low, high-only, low-only}, the time increment between predictions are
internally set to one minute. This allows peaks and valleys in the tidal curve to be found
for the daily high and low times and levels.
}
